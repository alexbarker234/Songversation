{% block scripts %}
<script>
    // Check if the Web Share API is supported by the browser
    document.addEventListener("DOMContentLoaded", function () {
        if (navigator.share) {
            // Add a click event listener to the share button
            var shareButton = document.getElementById("shareButton");
            shareButton.addEventListener("click", function () {
                // Call the share() method of the Web Share API
                navigator
                    .share({
                        title: "Songversation",
                        text: "Check out this page!",
                        url: "#",
                        icon: "app/static/favicon.ico",
                    })
                    .then(function () {
                        console.log("Sharing succeeded.");
                    })
                    .catch(function (error) {
                        console.error("Sharing failed:", error);
                    });
            });
        }
    });
</script>
{% endblock %}
<nav class="top-nav">
    <div class="nav-part nav-left"></div>
    <div class="nav-part nav-center">
        <a class="logo" href="/">
            <div class="logo-part">songversation.</div>
        </a>
    </div>
    <div class="nav-part nav-right">
        {% if user_data.authorised %}
        <button class="profile-dropdown">
            <img class="profile-image" src="{{ user_data.image_url }}" />
            <div class="hide-on-mobile">
                {{ user_data.username }}
                <i class="fa fa-caret-down"></i>
            </div>
        </button>
        {% endif %}
    </div>
</nav>
{% if user_data.authorised %}
<div class="side-nav disabled" id="side-nav">
    <a href="{{ url_for('friends_page') }}" class="nav-item"><i class="fas fa-user-friends"></i>Friends</a>
    <a href="{{ url_for('stats') }}" class="nav-item"><i class="fa fa-chart-simple"></i>Statistics</a>
    <a href="{{ url_for('logout') }}" class="nav-item"><i class="fa fa-sign-out"></i>Sign Out</a>
</div>
{% endif %}
